<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Farm DMON</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="monad.png">

  <!-- Шрифт Montserrat -->
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
    rel="stylesheet"
  />
 
  <!-- Подключаем стили -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Лидерборд (слева) -->
  <div class="leaderboard-container">
    <h2 class="leaderboard-title">Leaderboard</h2>
    <table class="leaderboard-table" id="leaderboard">
      <thead>
        <tr>
          <th>User</th>
          <th>Tokens</th>
        </tr>
      </thead>
      <tbody>
        <!-- Заполняется из JS -->
      </tbody>
    </table>
  </div>

  <!-- Прозрачная надпись -->
  <div class="powered-by">❤️❤️❤️</div>

  <!-- Заголовок + Счётчик -->
  <h1 class="title">Farm DMON</h1>
  <div class="score">Score: <span id="score">0</span> DMON</div>

  <!-- Тёмная подложка (меню) -->
  <div class="menu">
    <h2 class="menu-title">Farm DMON</h2>

    <!-- Колонка кнопок -->
    <div class="menu-buttons" style="flex-direction: column; align-items:center; gap:20px;">
      
      <!-- Первая строка: Start, Settings -->
      <div class="btn-row" style="display:flex; gap:20px;">
        <button id="startBtn" class="btn-3d from-left">
          <span style="margin-right:6px;">&#9658;</span> Start
        </button>
        <button id="settingsBtn" class="btn-3d from-right">
          <span style="margin-right:6px;">&#9881;</span> Settings
        </button>
      </div>

      <!-- Вторая строка: Username -->
      <div class="btn-row username-container from-bottom" id="usernameContainer" style="display:flex; gap:20px;">
        <input 
          type="text"
          id="usernameInput"
          class="username-field"
          placeholder="Enter username..."
        />
        <button id="saveUsernameBtn" class="btn-3d">Save</button>
      </div>

    </div>
  </div>

  <!-- Контейнер для пузырьков -->
  <div class="bubble-container"></div>

  <!-- Правый верхний угол: кнопка "Connect Wallet" + иконка "шестерёнки" -->
  <!-- z-index:10001, чтобы не перекрывалось .menu (9999) -->
  <div class="top-right-controls" style="z-index:10001;">
    <!-- “мягкая” анимация сверху (from-top-bounce) -->
    <button id="connectWalletBtn" class="btn-3d from-top-bounce">
      Connect Wallet
    </button>
    <div id="settingsIcon" class="settings-icon">&#9881;</div>
  </div>

  <!-- Окно Settings -->
  <div class="settings-modal" id="settingsModal" style="display:none;">
    <h3>Settings</h3>

    <label for="bubbleCount">Bubbles:</label>
    <select id="bubbleCount">
      <option value="10">10</option>
      <option value="20" selected>20</option>
      <option value="30">30</option>
    </select>
    <br /><br />

    <label for="speedRange">Speed:</label>
    <input
      type="range"
      id="speedRange"
      min="0.5"
      max="2"
      step="0.1"
      value="1"
    />
    <span id="speedValue">1</span>
    <br /><br />

    <label for="soundToggle">Sound:</label>
    <input type="checkbox" id="soundToggle" checked />
    <br /><br />

    <!-- “Save Score” -->
    <button id="saveScoreBtn">Save Score</button>
    <!-- Сброс очков -->
    <button id="resetScoreBtn">Reset Score</button>
    <br /><br />

    <button id="closeSettingsBtn">Close</button>
  </div>

  <!-- Окно ошибки (при отсутствии имени) -->
  <div class="settings-modal" id="errorModal" style="display:none; background: linear-gradient(135deg, #ff6767, #ffa4a4);">
    <h3>Error</h3>
    <p id="errorMessage"></p>
    <button id="closeErrorBtn">Close</button>
  </div>

  <!-- Окно уведомления -->
  <div id="notification" style="
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 10px 15px;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.4s, transform 0.4s;
    pointer-events: none;
    font-family: 'Montserrat', sans-serif;
  ">
    Saved!
  </div>

  <!-- 1) ethers.js (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5/dist/ethers.umd.min.js"></script>

  <!-- 2) Наш скрипт (script.js) -->
  <script src="script.js"></script>
</body>
</html>
